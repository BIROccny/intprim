<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>intprim: intprim.filter.kf.KalmanFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">intprim
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>intprim</b></li><li class="navelem"><b>filter</b></li><li class="navelem"><b>kf</b></li><li class="navelem"><a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html">KalmanFilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classintprim_1_1filter_1_1kf_1_1KalmanFilter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">intprim.filter.kf.KalmanFilter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html" title="The KalmanFilter class localizes an interaction in space via the extended Kalman filter. ">KalmanFilter</a> class localizes an interaction in space via the extended Kalman filter.  
 <a href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for intprim.filter.kf.KalmanFilter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classintprim_1_1filter_1_1kf_1_1KalmanFilter.png" usemap="#intprim.filter.kf.KalmanFilter_map" alt=""/>
  <map id="intprim.filter.kf.KalmanFilter_map" name="intprim.filter.kf.KalmanFilter_map">
<area href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html" title="The LinearSystem class provides general methods which are required by the KF linear filter..." alt="intprim.filter.linear_system.LinearSystem" shape="rect" coords="0,56,239,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39c8dc890d239658cdec5a7bdf16cb60"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a39c8dc890d239658cdec5a7bdf16cb60">__init__</a> (self, basis_model, mean_basis_weights, cov_basis_weights, align_func=align.dtw.fastdtw, iterative_alignment=False, num_align_samples=100, cyclical=False)</td></tr>
<tr class="memdesc:a39c8dc890d239658cdec5a7bdf16cb60"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initialization method for the ExtendedKalmanFilter.  <a href="#a39c8dc890d239658cdec5a7bdf16cb60">More...</a><br /></td></tr>
<tr class="separator:a39c8dc890d239658cdec5a7bdf16cb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c3f337fe61a0ea424d55a2be0eb7b8c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a0c3f337fe61a0ea424d55a2be0eb7b8c">align_observations</a> (self, observed_trajectory, active_dofs)</td></tr>
<tr class="memdesc:a0c3f337fe61a0ea424d55a2be0eb7b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform time alignment on the given observations.  <a href="#a0c3f337fe61a0ea424d55a2be0eb7b8c">More...</a><br /></td></tr>
<tr class="separator:a0c3f337fe61a0ea424d55a2be0eb7b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6311431ba3d5359261f70ed022d761ec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a6311431ba3d5359261f70ed022d761ec">localize</a> (self, measurement, measurement_noise, active_dofs, return_phase_variance=False)</td></tr>
<tr class="memdesc:a6311431ba3d5359261f70ed022d761ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method performs localization of space (basis weights).  <a href="#a6311431ba3d5359261f70ed022d761ec">More...</a><br /></td></tr>
<tr class="separator:a6311431ba3d5359261f70ed022d761ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html">intprim.filter.linear_system.LinearSystem</a></td></tr>
<tr class="memitem:a5bf590c4f8127df7dff75f2dd75281c7 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html#a5bf590c4f8127df7dff75f2dd75281c7">__init__</a> (self, basis_model)</td></tr>
<tr class="memdesc:a5bf590c4f8127df7dff75f2dd75281c7 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization method for <a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html" title="The LinearSystem class provides general methods which are required by the KF linear filter...">LinearSystem</a>.  <a href="#a5bf590c4f8127df7dff75f2dd75281c7">More...</a><br /></td></tr>
<tr class="separator:a5bf590c4f8127df7dff75f2dd75281c7 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12a1020831b9df38fff245ebff08854 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html#ae12a1020831b9df38fff245ebff08854">get_transition_model</a> (self)</td></tr>
<tr class="memdesc:ae12a1020831b9df38fff245ebff08854 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the transition model for spatial filtering.  <a href="#ae12a1020831b9df38fff245ebff08854">More...</a><br /></td></tr>
<tr class="separator:ae12a1020831b9df38fff245ebff08854 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632cbfa7d48f372f6f3ecaecdb7ef79b inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html#a632cbfa7d48f372f6f3ecaecdb7ef79b">get_process_noise</a> (self)</td></tr>
<tr class="memdesc:a632cbfa7d48f372f6f3ecaecdb7ef79b inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the process noise for spatial filtering.  <a href="#a632cbfa7d48f372f6f3ecaecdb7ef79b">More...</a><br /></td></tr>
<tr class="separator:a632cbfa7d48f372f6f3ecaecdb7ef79b inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4aa67eaf1469f2607d31b60bb29fe50 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html#ab4aa67eaf1469f2607d31b60bb29fe50">get_measurement_model</a> (self, x)</td></tr>
<tr class="memdesc:ab4aa67eaf1469f2607d31b60bb29fe50 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the measurement model for spatial filtering.  <a href="#ab4aa67eaf1469f2607d31b60bb29fe50">More...</a><br /></td></tr>
<tr class="separator:ab4aa67eaf1469f2607d31b60bb29fe50 inherit pub_methods_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a759565d1299dde45b72da03fbf095471"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a759565d1299dde45b72da03fbf095471"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>iterative_alignment</b></td></tr>
<tr class="separator:a759565d1299dde45b72da03fbf095471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5400034c3ef006229a90a10655ae7b6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5400034c3ef006229a90a10655ae7b6f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>state_mean</b></td></tr>
<tr class="separator:a5400034c3ef006229a90a10655ae7b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ef5c012fd60737be7880cb8de2bddd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49ef5c012fd60737be7880cb8de2bddd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>state_cov</b></td></tr>
<tr class="separator:a49ef5c012fd60737be7880cb8de2bddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e37018e4dc8f3e9624929a7ca65fc2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86e37018e4dc8f3e9624929a7ca65fc2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>identity_cov</b></td></tr>
<tr class="separator:a86e37018e4dc8f3e9624929a7ca65fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648e2a74b16f6db83cc1ae55cc989c5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a648e2a74b16f6db83cc1ae55cc989c5f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>last_phase_estimate</b></td></tr>
<tr class="separator:a648e2a74b16f6db83cc1ae55cc989c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01423a5a1dd65e4f91d411f4dd2be637"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01423a5a1dd65e4f91d411f4dd2be637"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>align_func</b></td></tr>
<tr class="separator:a01423a5a1dd65e4f91d411f4dd2be637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785fd73d447cd4f01eaebf55ab2a55fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a785fd73d447cd4f01eaebf55ab2a55fa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>num_align_samples</b></td></tr>
<tr class="separator:a785fd73d447cd4f01eaebf55ab2a55fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5ea6b980df8fd3f2254975c9dfc132"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f5ea6b980df8fd3f2254975c9dfc132"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>align_trajectory</b></td></tr>
<tr class="separator:a3f5ea6b980df8fd3f2254975c9dfc132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc0380ffb7ce4ecd64fd1a097d6414e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecc0380ffb7ce4ecd64fd1a097d6414e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>previous_observations</b></td></tr>
<tr class="separator:aecc0380ffb7ce4ecd64fd1a097d6414e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classintprim_1_1filter_1_1linear__system_1_1LinearSystem.html">intprim.filter.linear_system.LinearSystem</a></td></tr>
<tr class="memitem:a2666069f6ec6b9592145bf0469517c82 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2666069f6ec6b9592145bf0469517c82"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>basis_model</b></td></tr>
<tr class="separator:a2666069f6ec6b9592145bf0469517c82 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8547e89c491fa62edc15f353c96d1072 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8547e89c491fa62edc15f353c96d1072"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>state_dimension</b></td></tr>
<tr class="separator:a8547e89c491fa62edc15f353c96d1072 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62920b2383b68b926a53f99ca2fb2160 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62920b2383b68b926a53f99ca2fb2160"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>measurement_dimension</b></td></tr>
<tr class="separator:a62920b2383b68b926a53f99ca2fb2160 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcea7f3a5f6b2f07bc083ae83e549f04 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcea7f3a5f6b2f07bc083ae83e549f04"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>process_noise</b></td></tr>
<tr class="separator:abcea7f3a5f6b2f07bc083ae83e549f04 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c8645bbd045d3774c2910aeba07d10 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32c8645bbd045d3774c2910aeba07d10"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>transition_model</b></td></tr>
<tr class="separator:a32c8645bbd045d3774c2910aeba07d10 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461d232f17ef3bf91b4224fdf488c7e3 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a461d232f17ef3bf91b4224fdf488c7e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>measurement_model_prototype</b></td></tr>
<tr class="separator:a461d232f17ef3bf91b4224fdf488c7e3 inherit pub_attribs_classintprim_1_1filter_1_1linear__system_1_1LinearSystem"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html" title="The KalmanFilter class localizes an interaction in space via the extended Kalman filter. ">KalmanFilter</a> class localizes an interaction in space via the extended Kalman filter. </p>
<p>Temporal localization is accomplished explicitly with an external time-alignment algorithm such as Dynamic Time Warping. This class is a recursive filter, meaning it maintains state information between successive calls to <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a6311431ba3d5359261f70ed022d761ec" title="This method performs localization of space (basis weights). ">localize()</a>. As a spatial filter, the <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html" title="The KalmanFilter class localizes an interaction in space via the extended Kalman filter. ">KalmanFilter</a>'s internal state consists of only B dimensions modeling the latent space of the interaction. This class corresponds to a standard Probabilistic Movement Primitive.</p>
<p>References:<br />
 Campbell, J., Stepputtis, S., &amp; Ben Amor, H. (2019). Probabilistic Multimodal Modeling for Human-Robot Interaction Tasks.<br />
 Campbell, J., &amp; Amor, H. B. (2017). Bayesian interaction primitives: A slam approach to human-robot interaction. In Conference on Robot Learning (pp. 379-387).<br />
</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a39c8dc890d239658cdec5a7bdf16cb60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def intprim.filter.kf.KalmanFilter.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>basis_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mean_basis_weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cov_basis_weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>align_func</em> = <code>align.dtw.fastdtw</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterative_alignment</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_align_samples</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cyclical</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The initialization method for the ExtendedKalmanFilter. </p>
<p>Responsible for initializing the state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">basis_model</td><td>The basis model corresponding to this state space. </td></tr>
    <tr><td class="paramname">mean_basis_weights</td><td>Vector of dimension D containing the initial state for the basis weights. </td></tr>
    <tr><td class="paramname">cov_basis_weights</td><td>Matrix of dimension D x D containing the initial covariance matrix for the basis weights. </td></tr>
    <tr><td class="paramname">align_func</td><td>The time alignment algorithm to use. </td></tr>
    <tr><td class="paramname">iterative_alignment</td><td>True to start alignment from the currently estimated phase, False to perform alignment over the entire trajectory every time. </td></tr>
    <tr><td class="paramname">num_align_samples</td><td>The number of samples to use when aligning trajectories. </td></tr>
    <tr><td class="paramname">cyclical</td><td>Indicates whether this is a cyclical primitive. If True, the internal phase state will cycle back to 0 once it exceeds 1, allowing for continuous inference of periodic interactions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0c3f337fe61a0ea424d55a2be0eb7b8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def intprim.filter.kf.KalmanFilter.align_observations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observed_trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>active_dofs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform time alignment on the given observations. </p>
<p>This will call the given time alignment function and attempt to temporally align the observations to the trajectory given by the currently estimated state. If the iterative_alignment flag is True, then time alignment will only be performed from the currently estimated phase to the end of the trajectory. While this is more computationally efficient, it causes errors to be accumulated and thus is not always a good choice. If the iterative_alignment flag is False, then time alignment will always occur from 0 phase. By default, the flag is False.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">observed_trajectory</td><td>Matrix of dimension T x D containing observations, where T is the number of timesteps that have been observed since the last call to <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a6311431ba3d5359261f70ed022d761ec" title="This method performs localization of space (basis weights). ">localize()</a> and D is the dimension of the measurement space. </td></tr>
    <tr><td class="paramname">active_dofs</td><td>Vector of dimension \( D_o \) containing measurement space indices of the observed degrees of freedom. Note that the measurements will also contain unobserved degrees of freedom, but their values should not be used for inference.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Scalar value containing the estimated phase. </dd></dl>

</div>
</div>
<a class="anchor" id="a6311431ba3d5359261f70ed022d761ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def intprim.filter.kf.KalmanFilter.localize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>measurement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>measurement_noise</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>active_dofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_phase_variance</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method performs localization of space (basis weights). </p>
<p>This is a recursive call, which means it updates the internal state estimate based on the given observations. For each observation given, two steps are performed recursively: First, the current state is propagated forward in time in what is known as the prediction step. $$ \begin{align} \boldsymbol{\mu}_{t|t-1} &amp;= \boldsymbol{G}$ \boldsymbol{\mu}_{t-1|t-1},\ % \boldsymbol{\Sigma}_{t|t-1} &amp;= \boldsymbol{G} \boldsymbol{\Sigma}_{t-1|t-1} \boldsymbol{G}^{T} + \boldsymbol{Q}_t, \end{align} $$ In practice, the prediction does nothing for spatial filters because basis weights are time invariant.</p>
<p>Next, we integrate the observations into the current state in the update step. $$ \begin{align} \boldsymbol{K}_t &amp;= \boldsymbol{\Sigma}_{t|t-1} \boldsymbol{H}_t^{T} (\boldsymbol{H}_t \boldsymbol{\Sigma}_{t|t-1} \boldsymbol{H}_t^{T} + \boldsymbol{R}_t)^{-1},\ % \boldsymbol{\mu}_{t|t} &amp;= \boldsymbol{\mu}_{t|t-1} + \boldsymbol{K}_t(\boldsymbol{y}_t - h(\boldsymbol{\mu}_{t|t-1})),\ % \boldsymbol{\Sigma}_{t|t} &amp;= (I - \boldsymbol{K}_t \boldsymbol{H}_t)\boldsymbol{\Sigma}_{t|t-1}, \end{align} $$</p>
<p>Lastly, the mean and covariance of the state are returned. At the end of both the prediction and update steps the internal phase value is clipped such that it falls within the range [0, 1].</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">measurement</td><td>Matrix of dimension T x D containing observations, where T is the number of timesteps that have been observed since the last call to <a class="el" href="classintprim_1_1filter_1_1kf_1_1KalmanFilter.html#a6311431ba3d5359261f70ed022d761ec" title="This method performs localization of space (basis weights). ">localize()</a> and D is the dimension of the measurement space. </td></tr>
    <tr><td class="paramname">measurement_noise</td><td>Matrix of dimension D x D containing the measurement noise for the given set of measurements. </td></tr>
    <tr><td class="paramname">active_dofs</td><td>Vector of dimension \( D_o \) containing measurement space indices of the observed degrees of freedom. Note that the measurements will also contain unobserved degrees of freedom, but their values should not be used for inference. </td></tr>
    <tr><td class="paramname">return_phase_variance</td><td>This is not used for this filter but is maintained for API compatibility with the others.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Scalar value containing the inferred phase, Vector of dimension D containing inferred mean, Matrix of dimension D x D. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/joe/LibraryPythonPkg/intprim/intprim/filter/kf.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
